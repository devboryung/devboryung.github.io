---
title: "[싱글이의 영수증] 검색하기"
excerpt: "파이널프로젝트 - 싱글벙글"
search: true
categories: 
  - FinalProject
tags: 
  - FrameWork
  - Java
  - Spring
  - Bootstrap
toc: true
---

## 싱글이의 영수증 검색하기

### Controller

```java
@RequestMapping("search")
public String searchBoard(@RequestParam(value="cp", required=false, defaultValue ="1")  int cp,
            @RequestParam(value="sk",required = false) String sk, 
            @RequestParam(value="sv",required = false) String sv,
            @RequestParam(value="ct",required = false) String ct,
            @RequestParam(value="sort",required = false) String sort, 
            @ModelAttribute("rSearch") ReviewSearch rSearch,
            Model model) {
    
    
    rSearch.setSk(sk);
    rSearch.setSv(sv);
    rSearch.setCt(ct);
    rSearch.setSort(sort);
    
    ReviewPageInfo pInfo = service.getSearchPageInfo(rSearch,cp);
    
    
    List<Review> rList = service.selectSearchList(rSearch,pInfo);
    
    
    if(!rList.isEmpty()) {
        List<ReviewAttachment> thList = service.selectThumbnailList(rList);
        model.addAttribute("thList",thList);
    }
    
    model.addAttribute("rList",rList);
    model.addAttribute("pInfo",pInfo);
    model.addAttribute("rSearch",rSearch);
    
    
    return "review/reviewList";
}
```

<br><br>

- 검색 조건이 포함된 페이징 정보 얻어오기

Service

```java
ReviewPageInfo getSearchPageInfo(ReviewSearch rSearch, int cp);
```


ServiceImpl

```java
@Override
public ReviewPageInfo getSearchPageInfo(ReviewSearch rSearch, int cp) {
    
    // 검색 조건에 맞는 게시글 수 조회
    int listCount = dao.getSearchListCount(rSearch);
    
    return new ReviewPageInfo(cp, listCount, '2');
}
```

DAO

```java

```

Mapper

```sql

```

<br><br>


- 페이징 정보 얻어오기

Service

```java

```


ServiceImpl

```java

```

DAO

```java

```

Mapper

```sql

```

<br><br>



- 페이징 정보 얻어오기

Service

```java

```


ServiceImpl

```java

```

DAO

```java

```

Mapper

```sql

```

<br><br>



- 페이징 정보 얻어오기

Service

```java

```


ServiceImpl

```java

```

DAO

```java

```

Mapper

```sql

```

<br><br>



- 페이징 정보 얻어오기

Service

```java

```


ServiceImpl

```java

```

DAO

```java

```

Mapper

```sql

```

<br><br>